---
- name: HW1
  hosts: hw1

  tasks:
  - name: Ensure python2 is at the latest version
    ansible.builtin.apt:
      name: python
      state: latest
  - name: Ensure python3 is at the latest version
    ansible.builtin.apt:
      name: python3
      state: latest
  - name: Ensure nodeJS is at the latest version
    ansible.builtin.apt:
      name: nodejs
      state: latest
  - name: Ensure express is at the latest version
    ansible.builtin.apt:
      name: node-express-generator
      state: latest
  - name: Checkout git repository
    ansible.builtin.git:
      repo: 'https://github.com/Mattliahkim/HW0Files.git'
      dest: /root/meme
  - name: Start server
    command: node meme/server/server.js
